version: '3.8'

services:
  
  node-service:
    build:
      context: ./node
      dockerfile: Dockerfile
    image: maxkikuchi/node:latest
    entrypoint: dockerize -wait tcp://mysql:3306 -timeout 20s docker-entrypoint.sh
    command: node index.js
    container_name: node
    volumes:
      - ./node:/usr/src/app
    restart: always
    tty: true
    networks: 
      - netnode

networks:
  netnode:
    driver: bridge